<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Linux System Stats Dashboard</title>
    <style>
        body {
            font-family: sans-serif;
            background: #121212;
            color: #f0f0f0;
            padding: 2rem;
        }
        h1 {
            text-align: center;
            margin-bottom: 2rem;
        }
        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
        }
        .card {
            background: #1e1e1e;
            padding: 1rem;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
        }
        .label {
            color: #888;
            font-size: 0.9rem;
        }
        .value {
            font-size: 1.4rem;
        }
    </style>
</head>
<body>
<h1>Linux System Stats</h1>
<div class="stats-container" id="stats">
    <!-- Stats cards will be inserted here -->
</div>

<script>
    async function fetchStats() {
        try {
            const res = await fetch('/api/stats');
            const data = await res.json();

            const statsContainer = document.getElementById('stats');
            statsContainer.innerHTML = ''; // clear

            for (let key in data) {
                const card = document.createElement('div');
                card.className = 'card';
                card.innerHTML = `
                    <div class="label">${key.replace(/([a-z])([A-Z])/g, '$1 $2')}</div>
                    <div class="value">${data[key]}</div>
                `;
                statsContainer.appendChild(card);
            }

        } catch (e) {
            console.error("Failed to fetch stats:", e);
        }
    }

    // Fetch every 3 seconds
    fetchStats();
    setInterval(fetchStats, 3000);
</script>
</body>
</html>